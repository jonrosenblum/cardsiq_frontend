<app-sub-header>
    <!-- <button header-action class="flex items-center justify-center text-base text-secondary font-semibold font-plusJakarta leading-5 tracking-[-1%] w-[86px] h-11 bg-[#ffffff] border border-secondary rounded-lg hover:text-white hover:bg-secondary">Edit</button> -->
</app-sub-header>
<div class="relative overflow-x-auto h-[calc(100vh-210px)] no-scrollbar">
    <div class="bg-white rounded-[20px] p-4">
        <div class="space-y-1">
            <h2 class="text-lg text-[#070707] font-semibold font-plusJakarta leading-[28px] tracking-[0px]">
                {{ productDetails.title }}
                <button class="absolute top-4 right-4 w-[120px] h-11 rounded-xl bg-gradient border-[0.25px] border-[#D2D2D5] px-2 gap-2" 
                        (click)="goBack()">
                    <svg-icon name="back" />
                <span class="text-sm text-[#ffffff] font-plusJakarta font-medium text-nowrap">Bulid case</span>
            </button>
            </h2>
        </div>
        <div class="flex items-center flex-wrap gap-6 md:gap-10 mt-6">
            <div class="space-y-4">
                <p class="text-sm text-[#A5A5AB] font-medium font-plusJakarta leading-[18px]">
                    Date
                </p>
                <div class="flex items-center justify-center bg-[#F8FAFB] text-xs text-[#4A4C56] font-medium font-plusJakarta rounded-lg w-[126px] h-8 leading-4 tracking-[-0.5px]">
                    {{ productDetails.date }}
                </div>
            </div>
            <div class="space-y-4">
                <p class="text-sm text-[#A5A5AB] font-medium font-plusJakarta leading-[18px]">
                    Ceiling value
                </p>
                <div class="flex items-center justify-center bg-[#F8FAFB] text-xs text-[#4A4C56] font-medium font-plusJakarta rounded-lg w-[126px] h-8 leading-5 tracking-[-0.5px]">
                    {{ productDetails.ceilingValue }}
                </div>
            </div>
            <div class="space-y-4">
                <p class="text-sm text-[#A5A5AB] font-medium font-plusJakarta leading-[18px]">
                    Average value
                </p>
                <div class="flex items-center justify-center bg-[#F8FAFB] text-xs text-[#4A4C56] font-medium font-plusJakarta rounded-lg w-[126px] h-8 leading-5 tracking-[-0.5px]">
                    {{ productDetails.averageValue }}
                </div>
            </div>
            <div class="space-y-4">
                <p class="text-sm text-[#A5A5AB] font-medium font-plusJakarta leading-[18px]">
                    # of Cards
                </p>
                <div class="flex items-center justify-center bg-[#F8FAFB] rounded-lg w-[157px] h-8 gap-1">
                    <h3 class="text-sm text-[#070707] font-medium font-plusJakarta leading-4 tracking-[-0.5px]">
                        {{ productDetails.numberOfCards }}
                    </h3>
                </div>
            </div>
            <div class="space-y-4">
                <p class="text-sm text-[#A5A5AB] font-medium font-plusJakarta leading-[18px]">
                    Order Status
                </p>
                <div class="flex items-center justify-center bg-[#EEF9E8] text-xs text-[#53C31B] font-medium font-plusJakarta rounded-lg w-[126px] h-8 leading-5 tracking-[-0.5px]">
                    {{ productDetails.orderStatus }}
                </div>
            </div>
        </div>

        <!-- Table -->
        <div class="relative overflow-x-auto max-h-[calc(100vh-300px)] border border-[#E9E9EA] rounded-xl no-scrollbar mt-6">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                <thead class="bg-[#E9E9EA] dark:text-gray-400 sticky top-0">
                    <tr>
                        <th *ngFor="let header of ['Grader', 'Cert Number', 'Description', 'Grade', 'Estimate Value', 'Confidence', 'Paid', 'Team']" 
                            scope="col" class="px-6 py-2 max-w-[150px]"
                            [class.rounded-tl-xl]="header === 'Grader'"
                            [class.rounded-tr-xl]="header === 'Team'">
                            <h4 class="text-sm text-[#1D1F2C] font-medium font-plusJakarta leading-5 tracking-[-0.5px] text-nowrap text-ellipsis overflow-hidden max-w-[150px]">
                                {{ header }}
                            </h4>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let card of cards" class="border-b border-[#E9E9EA]">
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] px-6 py-4">
                            {{ card.grader }}
                        </td>
                        <td class="px-6 py-4 max-w-[150px]">
                            <p class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] text-nowrap text-ellipsis overflow-hidden max-w-[150px]">
                                {{ card.certNumber }}
                            </p>
                        </td>
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] text-nowrap text-ellipsis overflow-hidden max-w-[150px] px-6 py-4">
                            {{ card.description }}
                        </td>
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] px-6 py-4">
                            {{ card.grade }}
                        </td>
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] px-6 py-4">
                            {{ card.estimateValue }}
                        </td>
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] px-6 py-4">
                            {{ card.confidence }}
                        </td>
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] px-6 py-4">
                            {{ card.paid }}
                        </td>
                        <td class="text-xs text-[#1D1F2C] font-normal font-plusJakarta leading-4 tracking-[-0.5px] px-6 py-4">
                            {{ card.team }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="mt-8">
            <h1 class="text-base text-[#070707] font-semibold font-plusJakarta leading-[26px]">
                Transaction History
            </h1>
            <div class="flex flex-wrap flex-col md:flex-row items-start justify-start my-4 gap-6">
                <div *ngFor="let transaction of transactionHistory" 
                     class="flex items-center flex-grow flex-shrink w-full md:w-[281px] h-[116px] rounded-2xl px-4 bg-[#F7F7FC]">
                    <div class="space-y-6">
                        <p class="text-sm text-[#A5A5AB] font-medium font-plusJakarta leading-5 tracking-[-0.5px]">
                            {{ transaction.title }}
                        </p>
                        <h1 class="text-xl md:text-[32px] text-[#070707] font-semibold font-plusJakarta leading-10 tracking-[-0.5px]">
                            {{ transaction.value }}
                        </h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>